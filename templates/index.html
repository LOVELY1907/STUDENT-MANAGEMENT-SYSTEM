{% extends "base.html" %}
{% block content %}
<h2>All Students</h2>

<div class="toolbar">
  <form class="search" method="get" action="{{ url_for('index') }}">
    <input type="search" name="q" placeholder="Search by name, roll or course" value="{{ q }}">
    <button type="submit">Search</button>
    {% if q %}
      <a class="clear" href="{{ url_for('index') }}">Clear</a>
    {% endif %}
  </form>
</div>

{% if students %}
<table class="nice-table">
  <thead>
    <tr><th>#</th><th>Name</th><th>Roll No</th><th>Course</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for s in students %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ s.name }}</td>
      <td>{{ s.roll }}</td>
      <td>{{ s.course }}</td>
      <td class="actions">
        <a class="edit" href="{{ url_for('edit', index=loop.index0) }}">Edit</a>
        <form class="inline-form" method="post" action="{{ url_for('delete', index=loop.index0) }}" onsubmit="return confirmDelete();">
          <button type="submit" class="del">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="empty">No students yet. Click <a href="{{ url_for('add') }}">Add Student</a> to get started.</p>
{% endif %}
{% endblock %}
